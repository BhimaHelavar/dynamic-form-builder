<div class="form-fill-container">
  <mat-card *ngIf="loading" class="loading-card">
    <mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
    <p>Loading form...</p>
  </mat-card>
  
  <ng-container *ngIf="!loading">
    <div *ngIf="error" class="error-container">
      <mat-card class="error-card">
        <h2>Error</h2>
        <p>{{ error }}</p>
        <button mat-button color="primary" [routerLink]="['/dashboard']">Return to Dashboard</button>
      </mat-card>
    </div>
    
    <ng-container *ngIf="!error">
      <app-form-preview
        [template]="template"
        [isEditable]="true"
        [submitButtonText]="'Submit'"
        (formSubmit)="onSubmitForm($event)"
        (cancelForm)="onCancelForm()"
      ></app-form-preview>
    </ng-container>
  </ng-container>
</div>
